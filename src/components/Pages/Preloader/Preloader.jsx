import React, {useState, useEffect} from 'react';
import './Preloader.scss';

const Preloader = (props) => {
    const {isActive, setIsActive} = props;
    const [seconds, setSeconds] = useState(6);

    useEffect(() => {
        let interval = null;
        if (isActive) {
            interval = setInterval(() => {
                setSeconds((seconds) => {
                    if (seconds > 0) {
                        return --seconds;
                    } else if (seconds === 0) {
                        return setIsActive(false);
                    }
                });
            }, 1000);
        } else if (!isActive && seconds == 0) {
            clearInterval(interval);
        }
        return () => clearInterval(interval);
    }, [isActive, seconds]);

    return (
        <div className={isActive ? 'loader' : 'loader hidden'}>
            <svg
                className='loader-logo'
                width='944'
                height='81'
                viewBox='0 0 944 81'
                fill='none'
                xmlns='http://www.w3.org/2000/svg'
            >
                <mask
                    id='path-1-outside-1'
                    maskUnits='userSpaceOnUse'
                    x='-0.453125'
                    y='0.8125'
                    width='945'
                    height='81'
                    fill='black'
                >
                    <rect
                        fill='white'
                        x='-0.453125'
                        y='0.8125'
                        width='945'
                        height='81'
                    />
                    <path d='M26.3281 53.4844L27.6406 62.4844L29.5625 54.375L43.0625 6.75H50.6562L63.8281 54.375L65.7031 62.625L67.1562 53.4375L77.75 6.75H86.7969L70.25 75H62.0469L47.9844 25.2656L46.9062 20.0625L45.8281 25.2656L31.25 75H23.0469L6.54688 6.75H15.5469L26.3281 53.4844Z' />
                    <path d='M135.406 43.4531H105.828V67.6406H140.188V75H96.8281V6.75H139.719V14.1562H105.828V36.0938H135.406V43.4531Z' />
                    <path d='M160.438 67.6406H192.781V75H151.391V6.75H160.438V67.6406Z' />
                    <path d='M250.156 53.3438C249.312 60.5625 246.641 66.1406 242.141 70.0781C237.672 73.9844 231.719 75.9375 224.281 75.9375C216.219 75.9375 209.75 73.0469 204.875 67.2656C200.031 61.4844 197.609 53.75 197.609 44.0625V37.5C197.609 31.1562 198.734 25.5781 200.984 20.7656C203.266 15.9531 206.484 12.2656 210.641 9.70312C214.797 7.10938 219.609 5.8125 225.078 5.8125C232.328 5.8125 238.141 7.84375 242.516 11.9062C246.891 15.9375 249.438 21.5312 250.156 28.6875H241.109C240.328 23.25 238.625 19.3125 236 16.875C233.406 14.4375 229.766 13.2188 225.078 13.2188C219.328 13.2188 214.812 15.3438 211.531 19.5938C208.281 23.8438 206.656 29.8906 206.656 37.7344V44.3438C206.656 51.75 208.203 57.6406 211.297 62.0156C214.391 66.3906 218.719 68.5781 224.281 68.5781C229.281 68.5781 233.109 67.4531 235.766 65.2031C238.453 62.9219 240.234 58.9688 241.109 53.3438H250.156Z' />
                    <path d='M314.984 43.0781C314.984 49.7656 313.859 55.6094 311.609 60.6094C309.359 65.5781 306.172 69.375 302.047 72C297.922 74.625 293.109 75.9375 287.609 75.9375C282.234 75.9375 277.469 74.625 273.312 72C269.156 69.3438 265.922 65.5781 263.609 60.7031C261.328 55.7969 260.156 50.125 260.094 43.6875V38.7656C260.094 32.2031 261.234 26.4062 263.516 21.375C265.797 16.3438 269.016 12.5 273.172 9.84375C277.359 7.15625 282.141 5.8125 287.516 5.8125C292.984 5.8125 297.797 7.14062 301.953 9.79688C306.141 12.4219 309.359 16.25 311.609 21.2812C313.859 26.2812 314.984 32.1094 314.984 38.7656V43.0781ZM306.031 38.6719C306.031 30.5781 304.406 24.375 301.156 20.0625C297.906 15.7188 293.359 13.5469 287.516 13.5469C281.828 13.5469 277.344 15.7188 274.062 20.0625C270.812 24.375 269.141 30.375 269.047 38.0625V43.0781C269.047 50.9219 270.688 57.0938 273.969 61.5938C277.281 66.0625 281.828 68.2969 287.609 68.2969C293.422 68.2969 297.922 66.1875 301.109 61.9688C304.297 57.7188 305.938 51.6406 306.031 43.7344V38.6719Z' />
                    <path d='M340.109 6.75L362.422 62.4375L384.734 6.75H396.406V75H387.406V48.4219L388.25 19.7344L365.844 75H358.953L336.594 19.875L337.484 48.4219V75H328.484V6.75H340.109Z' />
                    <path d='M450.875 43.4531H421.297V67.6406H455.656V75H412.297V6.75H455.188V14.1562H421.297V36.0938H450.875V43.4531Z' />
                    <path d='M535.953 14.1562H514.016V75H505.062V14.1562H483.172V6.75H535.953V14.1562Z' />
                    <path d='M597.266 43.0781C597.266 49.7656 596.141 55.6094 593.891 60.6094C591.641 65.5781 588.453 69.375 584.328 72C580.203 74.625 575.391 75.9375 569.891 75.9375C564.516 75.9375 559.75 74.625 555.594 72C551.438 69.3438 548.203 65.5781 545.891 60.7031C543.609 55.7969 542.438 50.125 542.375 43.6875V38.7656C542.375 32.2031 543.516 26.4062 545.797 21.375C548.078 16.3438 551.297 12.5 555.453 9.84375C559.641 7.15625 564.422 5.8125 569.797 5.8125C575.266 5.8125 580.078 7.14062 584.234 9.79688C588.422 12.4219 591.641 16.25 593.891 21.2812C596.141 26.2812 597.266 32.1094 597.266 38.7656V43.0781ZM588.312 38.6719C588.312 30.5781 586.688 24.375 583.438 20.0625C580.188 15.7188 575.641 13.5469 569.797 13.5469C564.109 13.5469 559.625 15.7188 556.344 20.0625C553.094 24.375 551.422 30.375 551.328 38.0625V43.0781C551.328 50.9219 552.969 57.0938 556.25 61.5938C559.562 66.0625 564.109 68.2969 569.891 68.2969C575.703 68.2969 580.203 66.1875 583.391 61.9688C586.578 57.7188 588.219 51.6406 588.312 43.7344V38.6719Z' />
                    <path d='M654.688 44.5781C646.969 42.3594 641.344 39.6406 637.812 36.4219C634.312 33.1719 632.562 29.1719 632.562 24.4219C632.562 19.0469 634.703 14.6094 638.984 11.1094C643.297 7.57812 648.891 5.8125 655.766 5.8125C660.453 5.8125 664.625 6.71875 668.281 8.53125C671.969 10.3438 674.812 12.8438 676.812 16.0312C678.844 19.2188 679.859 22.7031 679.859 26.4844H670.812C670.812 22.3594 669.5 19.125 666.875 16.7812C664.25 14.4062 660.547 13.2188 655.766 13.2188C651.328 13.2188 647.859 14.2031 645.359 16.1719C642.891 18.1094 641.656 20.8125 641.656 24.2812C641.656 27.0625 642.828 29.4219 645.172 31.3594C647.547 33.2656 651.562 35.0156 657.219 36.6094C662.906 38.2031 667.344 39.9688 670.531 41.9062C673.75 43.8125 676.125 46.0469 677.656 48.6094C679.219 51.1719 680 54.1875 680 57.6562C680 63.1875 677.844 67.625 673.531 70.9688C669.219 74.2812 663.453 75.9375 656.234 75.9375C651.547 75.9375 647.172 75.0469 643.109 73.2656C639.047 71.4531 635.906 68.9844 633.688 65.8594C631.5 62.7344 630.406 59.1875 630.406 55.2188H639.453C639.453 59.3438 640.969 62.6094 644 65.0156C647.062 67.3906 651.141 68.5781 656.234 68.5781C660.984 68.5781 664.625 67.6094 667.156 65.6719C669.688 63.7344 670.953 61.0938 670.953 57.75C670.953 54.4062 669.781 51.8281 667.438 50.0156C665.094 48.1719 660.844 46.3594 654.688 44.5781Z' />
                    <path d='M744.031 75H734.984V43.4531H700.578V75H691.578V6.75H700.578V36.0938H734.984V6.75H744.031V75Z' />
                    <path d='M812.516 43.0781C812.516 49.7656 811.391 55.6094 809.141 60.6094C806.891 65.5781 803.703 69.375 799.578 72C795.453 74.625 790.641 75.9375 785.141 75.9375C779.766 75.9375 775 74.625 770.844 72C766.688 69.3438 763.453 65.5781 761.141 60.7031C758.859 55.7969 757.688 50.125 757.625 43.6875V38.7656C757.625 32.2031 758.766 26.4062 761.047 21.375C763.328 16.3438 766.547 12.5 770.703 9.84375C774.891 7.15625 779.672 5.8125 785.047 5.8125C790.516 5.8125 795.328 7.14062 799.484 9.79688C803.672 12.4219 806.891 16.25 809.141 21.2812C811.391 26.2812 812.516 32.1094 812.516 38.7656V43.0781ZM803.562 38.6719C803.562 30.5781 801.938 24.375 798.688 20.0625C795.438 15.7188 790.891 13.5469 785.047 13.5469C779.359 13.5469 774.875 15.7188 771.594 20.0625C768.344 24.375 766.672 30.375 766.578 38.0625V43.0781C766.578 50.9219 768.219 57.0938 771.5 61.5938C774.812 66.0625 779.359 68.2969 785.141 68.2969C790.953 68.2969 795.453 66.1875 798.641 61.9688C801.828 57.7188 803.469 51.6406 803.562 43.7344V38.6719Z' />
                    <path d='M835.016 48.2812V75H826.016V6.75H851.188C858.656 6.75 864.5 8.65625 868.719 12.4688C872.969 16.2812 875.094 21.3281 875.094 27.6094C875.094 34.2344 873.016 39.3438 868.859 42.9375C864.734 46.5 858.812 48.2812 851.094 48.2812H835.016ZM835.016 40.9219H851.188C856 40.9219 859.688 39.7969 862.25 37.5469C864.812 35.2656 866.094 31.9844 866.094 27.7031C866.094 23.6406 864.812 20.3906 862.25 17.9531C859.688 15.5156 856.172 14.25 851.703 14.1562H835.016V40.9219Z' />
                    <path d='M907.391 41.0156L925.203 6.75H935.422L911.891 49.5469V75H902.891V49.5469L879.359 6.75H889.672L907.391 41.0156Z' />
                </mask>
                <path
                    className='loader-logo-path1'
                    d='M26.3281 53.4844L27.6406 62.4844L29.5625 54.375L43.0625 6.75H50.6562L63.8281 54.375L65.7031 62.625L67.1562 53.4375L77.75 6.75H86.7969L70.25 75H62.0469L47.9844 25.2656L46.9062 20.0625L45.8281 25.2656L31.25 75H23.0469L6.54688 6.75H15.5469L26.3281 53.4844Z'
                    stroke='white'
                    stroke-width='10'
                    mask='url(#path-1-outside-1)'
                />
                <path
                    className='loader-logo-path2'
                    d='M135.406 43.4531H105.828V67.6406H140.188V75H96.8281V6.75H139.719V14.1562H105.828V36.0938H135.406V43.4531Z'
                    stroke='white'
                    stroke-width='10'
                    mask='url(#path-1-outside-1)'
                />
                <path
                    className='loader-logo-path3'
                    d='M160.438 67.6406H192.781V75H151.391V6.75H160.438V67.6406Z'
                    stroke='white'
                    stroke-width='10'
                    mask='url(#path-1-outside-1)'
                />
                <path
                    className='loader-logo-path4'
                    d='M250.156 53.3438C249.312 60.5625 246.641 66.1406 242.141 70.0781C237.672 73.9844 231.719 75.9375 224.281 75.9375C216.219 75.9375 209.75 73.0469 204.875 67.2656C200.031 61.4844 197.609 53.75 197.609 44.0625V37.5C197.609 31.1562 198.734 25.5781 200.984 20.7656C203.266 15.9531 206.484 12.2656 210.641 9.70312C214.797 7.10938 219.609 5.8125 225.078 5.8125C232.328 5.8125 238.141 7.84375 242.516 11.9062C246.891 15.9375 249.438 21.5312 250.156 28.6875H241.109C240.328 23.25 238.625 19.3125 236 16.875C233.406 14.4375 229.766 13.2188 225.078 13.2188C219.328 13.2188 214.812 15.3438 211.531 19.5938C208.281 23.8438 206.656 29.8906 206.656 37.7344V44.3438C206.656 51.75 208.203 57.6406 211.297 62.0156C214.391 66.3906 218.719 68.5781 224.281 68.5781C229.281 68.5781 233.109 67.4531 235.766 65.2031C238.453 62.9219 240.234 58.9688 241.109 53.3438H250.156Z'
                    stroke='white'
                    stroke-width='10'
                    mask='url(#path-1-outside-1)'
                />
                <path
                    className='loader-logo-path5'
                    d='M314.984 43.0781C314.984 49.7656 313.859 55.6094 311.609 60.6094C309.359 65.5781 306.172 69.375 302.047 72C297.922 74.625 293.109 75.9375 287.609 75.9375C282.234 75.9375 277.469 74.625 273.312 72C269.156 69.3438 265.922 65.5781 263.609 60.7031C261.328 55.7969 260.156 50.125 260.094 43.6875V38.7656C260.094 32.2031 261.234 26.4062 263.516 21.375C265.797 16.3438 269.016 12.5 273.172 9.84375C277.359 7.15625 282.141 5.8125 287.516 5.8125C292.984 5.8125 297.797 7.14062 301.953 9.79688C306.141 12.4219 309.359 16.25 311.609 21.2812C313.859 26.2812 314.984 32.1094 314.984 38.7656V43.0781ZM306.031 38.6719C306.031 30.5781 304.406 24.375 301.156 20.0625C297.906 15.7188 293.359 13.5469 287.516 13.5469C281.828 13.5469 277.344 15.7188 274.062 20.0625C270.812 24.375 269.141 30.375 269.047 38.0625V43.0781C269.047 50.9219 270.688 57.0938 273.969 61.5938C277.281 66.0625 281.828 68.2969 287.609 68.2969C293.422 68.2969 297.922 66.1875 301.109 61.9688C304.297 57.7188 305.938 51.6406 306.031 43.7344V38.6719Z'
                    stroke='white'
                    stroke-width='10'
                    mask='url(#path-1-outside-1)'
                />
                <path
                    className='loader-logo-path6'
                    d='M340.109 6.75L362.422 62.4375L384.734 6.75H396.406V75H387.406V48.4219L388.25 19.7344L365.844 75H358.953L336.594 19.875L337.484 48.4219V75H328.484V6.75H340.109Z'
                    stroke='white'
                    stroke-width='10'
                    mask='url(#path-1-outside-1)'
                />
                <path
                    className='loader-logo-path7'
                    d='M450.875 43.4531H421.297V67.6406H455.656V75H412.297V6.75H455.188V14.1562H421.297V36.0938H450.875V43.4531Z'
                    stroke='white'
                    stroke-width='10'
                    mask='url(#path-1-outside-1)'
                />
                <path
                    className='loader-logo-path8'
                    d='M535.953 14.1562H514.016V75H505.062V14.1562H483.172V6.75H535.953V14.1562Z'
                    stroke='white'
                    stroke-width='10'
                    mask='url(#path-1-outside-1)'
                />
                <path
                    className='loader-logo-path9'
                    d='M597.266 43.0781C597.266 49.7656 596.141 55.6094 593.891 60.6094C591.641 65.5781 588.453 69.375 584.328 72C580.203 74.625 575.391 75.9375 569.891 75.9375C564.516 75.9375 559.75 74.625 555.594 72C551.438 69.3438 548.203 65.5781 545.891 60.7031C543.609 55.7969 542.438 50.125 542.375 43.6875V38.7656C542.375 32.2031 543.516 26.4062 545.797 21.375C548.078 16.3438 551.297 12.5 555.453 9.84375C559.641 7.15625 564.422 5.8125 569.797 5.8125C575.266 5.8125 580.078 7.14062 584.234 9.79688C588.422 12.4219 591.641 16.25 593.891 21.2812C596.141 26.2812 597.266 32.1094 597.266 38.7656V43.0781ZM588.312 38.6719C588.312 30.5781 586.688 24.375 583.438 20.0625C580.188 15.7188 575.641 13.5469 569.797 13.5469C564.109 13.5469 559.625 15.7188 556.344 20.0625C553.094 24.375 551.422 30.375 551.328 38.0625V43.0781C551.328 50.9219 552.969 57.0938 556.25 61.5938C559.562 66.0625 564.109 68.2969 569.891 68.2969C575.703 68.2969 580.203 66.1875 583.391 61.9688C586.578 57.7188 588.219 51.6406 588.312 43.7344V38.6719Z'
                    stroke='white'
                    stroke-width='10'
                    mask='url(#path-1-outside-1)'
                />
                <path
                    className='loader-logo-path10'
                    d='M654.688 44.5781C646.969 42.3594 641.344 39.6406 637.812 36.4219C634.312 33.1719 632.562 29.1719 632.562 24.4219C632.562 19.0469 634.703 14.6094 638.984 11.1094C643.297 7.57812 648.891 5.8125 655.766 5.8125C660.453 5.8125 664.625 6.71875 668.281 8.53125C671.969 10.3438 674.812 12.8438 676.812 16.0312C678.844 19.2188 679.859 22.7031 679.859 26.4844H670.812C670.812 22.3594 669.5 19.125 666.875 16.7812C664.25 14.4062 660.547 13.2188 655.766 13.2188C651.328 13.2188 647.859 14.2031 645.359 16.1719C642.891 18.1094 641.656 20.8125 641.656 24.2812C641.656 27.0625 642.828 29.4219 645.172 31.3594C647.547 33.2656 651.562 35.0156 657.219 36.6094C662.906 38.2031 667.344 39.9688 670.531 41.9062C673.75 43.8125 676.125 46.0469 677.656 48.6094C679.219 51.1719 680 54.1875 680 57.6562C680 63.1875 677.844 67.625 673.531 70.9688C669.219 74.2812 663.453 75.9375 656.234 75.9375C651.547 75.9375 647.172 75.0469 643.109 73.2656C639.047 71.4531 635.906 68.9844 633.688 65.8594C631.5 62.7344 630.406 59.1875 630.406 55.2188H639.453C639.453 59.3438 640.969 62.6094 644 65.0156C647.062 67.3906 651.141 68.5781 656.234 68.5781C660.984 68.5781 664.625 67.6094 667.156 65.6719C669.688 63.7344 670.953 61.0938 670.953 57.75C670.953 54.4062 669.781 51.8281 667.438 50.0156C665.094 48.1719 660.844 46.3594 654.688 44.5781Z'
                    stroke='white'
                    stroke-width='10'
                    mask='url(#path-1-outside-1)'
                />
                <path
                    className='loader-logo-path11'
                    d='M744.031 75H734.984V43.4531H700.578V75H691.578V6.75H700.578V36.0938H734.984V6.75H744.031V75Z'
                    stroke='white'
                    stroke-width='10'
                    mask='url(#path-1-outside-1)'
                />
                <path
                    className='loader-logo-path12'
                    d='M812.516 43.0781C812.516 49.7656 811.391 55.6094 809.141 60.6094C806.891 65.5781 803.703 69.375 799.578 72C795.453 74.625 790.641 75.9375 785.141 75.9375C779.766 75.9375 775 74.625 770.844 72C766.688 69.3438 763.453 65.5781 761.141 60.7031C758.859 55.7969 757.688 50.125 757.625 43.6875V38.7656C757.625 32.2031 758.766 26.4062 761.047 21.375C763.328 16.3438 766.547 12.5 770.703 9.84375C774.891 7.15625 779.672 5.8125 785.047 5.8125C790.516 5.8125 795.328 7.14062 799.484 9.79688C803.672 12.4219 806.891 16.25 809.141 21.2812C811.391 26.2812 812.516 32.1094 812.516 38.7656V43.0781ZM803.562 38.6719C803.562 30.5781 801.938 24.375 798.688 20.0625C795.438 15.7188 790.891 13.5469 785.047 13.5469C779.359 13.5469 774.875 15.7188 771.594 20.0625C768.344 24.375 766.672 30.375 766.578 38.0625V43.0781C766.578 50.9219 768.219 57.0938 771.5 61.5938C774.812 66.0625 779.359 68.2969 785.141 68.2969C790.953 68.2969 795.453 66.1875 798.641 61.9688C801.828 57.7188 803.469 51.6406 803.562 43.7344V38.6719Z'
                    stroke='white'
                    stroke-width='10'
                    mask='url(#path-1-outside-1)'
                />
                <path
                    className='loader-logo-path13'
                    d='M835.016 48.2812V75H826.016V6.75H851.188C858.656 6.75 864.5 8.65625 868.719 12.4688C872.969 16.2812 875.094 21.3281 875.094 27.6094C875.094 34.2344 873.016 39.3438 868.859 42.9375C864.734 46.5 858.812 48.2812 851.094 48.2812H835.016ZM835.016 40.9219H851.188C856 40.9219 859.688 39.7969 862.25 37.5469C864.812 35.2656 866.094 31.9844 866.094 27.7031C866.094 23.6406 864.812 20.3906 862.25 17.9531C859.688 15.5156 856.172 14.25 851.703 14.1562H835.016V40.9219Z'
                    stroke='white'
                    stroke-width='10'
                    mask='url(#path-1-outside-1)'
                />
                <path
                    className='loader-logo-path14'
                    d='M907.391 41.0156L925.203 6.75H935.422L911.891 49.5469V75H902.891V49.5469L879.359 6.75H889.672L907.391 41.0156Z'
                    stroke='white'
                    stroke-width='10'
                    mask='url(#path-1-outside-1)'
                />
            </svg>
        </div>
    );
};

export default Preloader;
